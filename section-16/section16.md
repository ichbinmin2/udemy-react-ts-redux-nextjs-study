# Working with Forms & User Input

## 목차

- [What's So Complex About Forms?](#무엇이-폼을-복잡하게-하는가)

</br>

## 무엇이 폼을 복잡하게 하는가

- 언뜻 보기에 form 은 단순해 보이지만 실상은 그렇지 않다. 적어도 개발자의 시각에서 바라본다면 말이다. 폼과 input 값은 다양한 상태(state)를 나타낼 수 있기에 상당히 복잡한 구조를 띄고 있다.

### 폼이 고려해야만 하는 수 많은 가능성에 대하여

- 하나 이상의 입력 값이 모두 유효하지 않을 수도 있고, 모두 유효할 수 있다. 또 서버로 리퀘스트를 보낸 뒤에 특정 값이 사용 가능한지 확인해야 하는 비동기 유효성 검사를 이용해야 할 때 상태(state)를 알 수 없을 때도 있다. (ex. 이메일 주소가 유효한지 확인해야 할 때) 따라서 폼은 우리가 생각하는 것보다 훨씬 복잡할 수 있다. 우리가 잠깐 생각해보기만 한 가능성만 해도 벌써 두가지 상태(state)인데, 실제로는 하나의 폼이 유효한지 아닌지만 따지는 것이 아니라 폼에 있는 '모든 입력 값'에 대해서도 유효성을 고려해야 한다고 생각해보라. 그리고 각각의 입력 값의 상태(state)가 모여서 전체 폼의 상태(state)를 결정해야만 한다.

### 폼과 입력 값이 유효하지 않을 때와 유효할 때

- 폼과 폼 내부의 input(입력) 값이 유효하지 않을 때 특정한 입력 값에 대해서 에러 메세지를 출력하고 문제가 되는 입력 값을 강조해야 한다. 또 하나 이상의 입력 값이 유효하지 않다면, 이 입력 값이 제출되거나 저장되지 않도록 해야만 한다. 반면 폼과 폼 내부의 input(입력) 값이 유효하다면 이 입력 값이 확실하게 제출되고 저장되도록 처리해 주어야 한다. 거기다 에러 메세지를 출력하고 유효하지 않은 입력 값을 강조하는 부분 또한 처리해주어야 하는데, 이렇게 되면 사용자 입력 값의 유효성을 언제 확인해야 할지를 고려해야 하기 때문에 훨씬 더 복잡해질 것이다.

### 어느 시기에 사용자 입력 값의 유효성을 확인해야 할까?

- 사용자의 입력 값의 유효성을 언제 확인해야 할까? 시기는 크게 세 가지로 나눠볼 수 있을 것이다.

#### 사용자 입력 값 확인 1. 폼이 완전히 제출 되었을 때

- 먼저 폼이 완전하게 제출되었을 때 사용자 입력 값의 유효성을 검증할 수 있을 것이다.

- 장점 : 폼이 완전하게 제출된 뒤에 유효성 검증을 할 때에는 사용자가 유효한 값을 입력하게 할 수 있다. 다시 말하자면 사용자가 이메일 입력 칸을 입력하는 중에 완전히 입력하지도 않았는데 경고 메세지를 받지 않을 수 있다는 이야기다. 사용자가 입력을 마칠 때까지 충분히 기다린 뒤에 폼을 제출 하고 에러를 보여주게 되므로 불필요한 경고를 줄일 수 있어서 꽤 괜찮은 방법이라 할 수 있다.

- 단점 : 단점은 사용자가 값을 입력 후 폼을 제출하고 난 뒤에 문제가 있는 부분을 알려주게 된다면 사용자는 잘못된 입력 값이 있는 시기로 돌아가서 값을 다시 입력해야만 한다는 것이다. 이것은 엄청난 문제는 아니지만 최종적으로 제공하고자 하는 사용자 경험 또한 아닐 것이다.

#### 사용자 입력 값 확인 2. 사용자가 값을 입력하고, input 요소에서 포커스 아웃 되었을 때

- 사용자가 값을 입력하고 난 뒤에 input 요소에서 포커스를 잃었을 때 사용자가 무엇을 입력했는지를 확인하고 유효성을 검증할 수 있을 것이다.

- 장점 : input 요소에서 포커스를 잃었을 때 입력 값의 유효성을 검증하는 경우, 전체 폼이 제출되고 경고 메세지를 보내기 전에 사용자가 유효한 값을 입력할 수 있다. 혹은 사용자가 특정 입력을 끝내자마자 바로 그 시점에 바로 경고 메세지를 보낼 수 있다. 즉, 전체 폼이 제출되기 전까지 기다리는 것이 아니라, 하나의 특정한 입력을 마칠 때 까지만 기다리는 것이다. 이 방법은 사용자가 입력 값을 작성하지 않았을 때 매우 유용하다.

- 단점 : input 요소에서 포커스를 잃었을 때 입력 값의 유효성을 검증하는 경우, 사용자가 그 전에 유효하지 않은 값을 입력하고 나서 고치는 중에도 사용자의 입력 값이 유효한지 아닌지를 실시간으로 알려줄 수 없다는 것이다.

#### 사용자 입력 값 확인 3. 사용자가 키를 한 번씩 칠 때마다 검증하는 방법.

- 사용자가 input 요소 안에서 키를 한 번씩 칠 때마다 검증하는 방법이나 input 요소가 변경될 때마다 검증할 수 있을 것이다.

- 장점 : input 요소 안에서 키를 한 번씩 칠 때마다 사용자가 입력한 값의 유효성에 대해 바로 피드백을 주는 방식이기 때문에 실시간으로 사용자의 입력 값이 유효한지 아닌지를 알려줄 수 있다.

- 단점 : input 요소 안에서 키를 한 번씩 칠 때마다 사용자가 입력한 값의 유효성에 대해 바로 피드백을 주는 방식이기 때문에 사용자가 유효한 값을 입력하기도 전에 경고 메세지를 보내게 된다. 즉, 키를 한 번씩 칠 때마다 유효성을 검사한다면 사용자가 해당 폼에 아무런 것도 입력하지 않은 상태임에도 그 상태에서는 모든 값이 유효하지 않은데다가 사용자는 아직 새로운 값을 입력할 기회조차 받지 못했으므로 수 많은 에러들을 마주하게 된다.

### 정리

- 지금까지 폼이 복잡해진 이유와 입력 값의 유효성 검사에 대한 시기를 살펴보았다. 앞서 사용자의 입력 값을 확인하는 시기에 대해서는 저마다 장/단점이 있기 때문에 여러 조건들을 고려해서 방법을 다양하게 사용하는 방식으로 접근해야 할 것이다. 예를 들어, 입력 값이 유효하지 않게 되었을 때 키 입력마다 유효성 검증을 한다면 피드백을 실시간으로 전달하기 때문에 입력이 유효해진 순간 사용자에게 알릴 수 있다면 어떨까? 보다 나은 사용자 경험을 제공할 수 있을 것이다.

  </br>
